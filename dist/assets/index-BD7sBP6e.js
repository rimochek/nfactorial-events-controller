(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ir(t,e){const s=new Set(t.split(","));return n=>s.has(n)}const te={},Mt=[],xe=()=>{},Ta=()=>!1,Qs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),or=t=>t.startsWith("onUpdate:"),le=Object.assign,ar=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Pa=Object.prototype.hasOwnProperty,z=(t,e)=>Pa.call(t,e),M=Array.isArray,Ft=t=>Xs(t)==="[object Map]",Yi=t=>Xs(t)==="[object Set]",H=t=>typeof t=="function",ie=t=>typeof t=="string",xt=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",Qi=t=>(ne(t)||H(t))&&H(t.then)&&H(t.catch),Xi=Object.prototype.toString,Xs=t=>Xi.call(t),Ca=t=>Xs(t).slice(8,-1),Zi=t=>Xs(t)==="[object Object]",lr=t=>ie(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,os=ir(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},$a=/-(\w)/g,Ke=Zs(t=>t.replace($a,(e,s)=>s?s.toUpperCase():"")),ja=/\B([A-Z])/g,Yt=Zs(t=>t.replace(ja,"-$1").toLowerCase()),en=Zs(t=>t.charAt(0).toUpperCase()+t.slice(1)),_n=Zs(t=>t?`on${en(t)}`:""),ct=(t,e)=>!Object.is(t,e),Ns=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},eo=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Dn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Lr;const to=()=>Lr||(Lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cr(t){if(M(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=ie(n)?Da(n):cr(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(ie(t)||ne(t))return t}const Ia=/;(?![^(]*\))/g,La=/:([^]+)/,Ua=/\/\*[^]*?\*\//g;function Da(t){const e={};return t.replace(Ua,"").split(Ia).forEach(s=>{if(s){const n=s.split(La);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _s(t){let e="";if(ie(t))e=t;else if(M(t))for(let s=0;s<t.length;s++){const n=_s(t[s]);n&&(e+=n+" ")}else if(ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Na="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ma=ir(Na);function so(t){return!!t||t===""}const mn=t=>ie(t)?t:t==null?"":M(t)||ne(t)&&(t.toString===Xi||!H(t.toString))?JSON.stringify(t,no,2):String(t),no=(t,e)=>e&&e.__v_isRef?no(t,e.value):Ft(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[vn(n,i)+" =>"]=r,s),{})}:Yi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>vn(s))}:xt(e)?vn(e):ne(e)&&!M(e)&&!Zi(e)?String(e):e,vn=(t,e="")=>{var s;return xt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class ro{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Se,!e&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Se;try{return Se=this,e()}finally{Se=s}}}on(){Se=this}off(){Se=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Fa(t){return new ro(t)}function Ha(t,e=Se){e&&e.active&&e.effects.push(t)}function io(){return Se}function Ba(t){Se&&Se.cleanups.push(t)}let Ot;class ur{constructor(e,s,n,r){this.fn=e,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ha(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ft();for(let e=0;e<this._depsLength;e++){const s=this.deps[e];if(s.computed&&(qa(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),dt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=at,s=Ot;try{return at=!0,Ot=this,this._runnings++,Ur(this),this.fn()}finally{Dr(this),this._runnings--,Ot=s,at=e}}stop(){this.active&&(Ur(this),Dr(this),this.onStop&&this.onStop(),this.active=!1)}}function qa(t){return t.value}function Ur(t){t._trackId++,t._depsLength=0}function Dr(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)oo(t.deps[e],t);t.deps.length=t._depsLength}}function oo(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let at=!0,Nn=0;const ao=[];function ft(){ao.push(at),at=!1}function dt(){const t=ao.pop();at=t===void 0?!0:t}function hr(){Nn++}function fr(){for(Nn--;!Nn&&Mn.length;)Mn.shift()()}function lo(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&oo(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Mn=[];function co(t,e,s){hr();for(const n of t.keys()){let r;n._dirtyLevel<e&&(r??(r=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(r??(r=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Mn.push(n.scheduler)))}fr()}const uo=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},Fn=new WeakMap,kt=Symbol(""),Hn=Symbol("");function ye(t,e,s){if(at&&Ot){let n=Fn.get(t);n||Fn.set(t,n=new Map);let r=n.get(s);r||n.set(s,r=uo(()=>n.delete(s))),lo(Ot,r)}}function Ge(t,e,s,n,r,i){const o=Fn.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&M(t)){const l=Number(n);o.forEach((u,c)=>{(c==="length"||!xt(c)&&c>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":M(t)?lr(s)&&a.push(o.get("length")):(a.push(o.get(kt)),Ft(t)&&a.push(o.get(Hn)));break;case"delete":M(t)||(a.push(o.get(kt)),Ft(t)&&a.push(o.get(Hn)));break;case"set":Ft(t)&&a.push(o.get(kt));break}hr();for(const l of a)l&&co(l,4);fr()}const Ka=ir("__proto__,__v_isRef,__isVue"),ho=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xt)),Nr=Va();function Va(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=W(this);for(let i=0,o=this.length;i<o;i++)ye(n,"get",i+"");const r=n[e](...s);return r===-1||r===!1?n[e](...s.map(W)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){ft(),hr();const n=W(this)[e].apply(this,s);return fr(),dt(),n}}),t}function za(t){xt(t)||(t=String(t));const e=W(this);return ye(e,"has",t),e.hasOwnProperty(t)}class fo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?il:mo:i?_o:go).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=M(e);if(!r){if(o&&z(Nr,s))return Reflect.get(Nr,s,n);if(s==="hasOwnProperty")return za}const a=Reflect.get(e,s,n);return(xt(s)?ho.has(s):Ka(s))||(r||ye(e,"get",s),i)?a:be(a)?o&&lr(s)?a:a.value:ne(a)?r?yo(a):sn(a):a}}class po extends fo{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=ms(i);if(!Vs(n)&&!ms(n)&&(i=W(i),n=W(n)),!M(e)&&be(i)&&!be(n))return l?!1:(i.value=n,!0)}const o=M(e)&&lr(s)?Number(s)<e.length:z(e,s),a=Reflect.set(e,s,n,r);return e===W(r)&&(o?ct(n,i)&&Ge(e,"set",s,n):Ge(e,"add",s,n)),a}deleteProperty(e,s){const n=z(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Ge(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!xt(s)||!ho.has(s))&&ye(e,"has",s),n}ownKeys(e){return ye(e,"iterate",M(e)?"length":kt),Reflect.ownKeys(e)}}class Ga extends fo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Wa=new po,Ja=new Ga,Ya=new po(!0);const dr=t=>t,tn=t=>Reflect.getPrototypeOf(t);function Ts(t,e,s=!1,n=!1){t=t.__v_raw;const r=W(t),i=W(e);s||(ct(e,i)&&ye(r,"get",e),ye(r,"get",i));const{has:o}=tn(r),a=n?dr:s?_r:vs;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Ps(t,e=!1){const s=this.__v_raw,n=W(s),r=W(t);return e||(ct(t,r)&&ye(n,"has",t),ye(n,"has",r)),t===r?s.has(t):s.has(t)||s.has(r)}function Cs(t,e=!1){return t=t.__v_raw,!e&&ye(W(t),"iterate",kt),Reflect.get(t,"size",t)}function Mr(t){t=W(t);const e=W(this);return tn(e).has.call(e,t)||(e.add(t),Ge(e,"add",t,t)),this}function Fr(t,e){e=W(e);const s=W(this),{has:n,get:r}=tn(s);let i=n.call(s,t);i||(t=W(t),i=n.call(s,t));const o=r.call(s,t);return s.set(t,e),i?ct(e,o)&&Ge(s,"set",t,e):Ge(s,"add",t,e),this}function Hr(t){const e=W(this),{has:s,get:n}=tn(e);let r=s.call(e,t);r||(t=W(t),r=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return r&&Ge(e,"delete",t,void 0),i}function Br(){const t=W(this),e=t.size!==0,s=t.clear();return e&&Ge(t,"clear",void 0,void 0),s}function $s(t,e){return function(n,r){const i=this,o=i.__v_raw,a=W(o),l=e?dr:t?_r:vs;return!t&&ye(a,"iterate",kt),o.forEach((u,c)=>n.call(r,l(u),l(c),i))}}function js(t,e,s){return function(...n){const r=this.__v_raw,i=W(r),o=Ft(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?dr:e?_r:vs;return!e&&ye(i,"iterate",l?Hn:kt),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Xe(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qa(){const t={get(i){return Ts(this,i)},get size(){return Cs(this)},has:Ps,add:Mr,set:Fr,delete:Hr,clear:Br,forEach:$s(!1,!1)},e={get(i){return Ts(this,i,!1,!0)},get size(){return Cs(this)},has:Ps,add:Mr,set:Fr,delete:Hr,clear:Br,forEach:$s(!1,!0)},s={get(i){return Ts(this,i,!0)},get size(){return Cs(this,!0)},has(i){return Ps.call(this,i,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:$s(!0,!1)},n={get(i){return Ts(this,i,!0,!0)},get size(){return Cs(this,!0)},has(i){return Ps.call(this,i,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:$s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=js(i,!1,!1),s[i]=js(i,!0,!1),e[i]=js(i,!1,!0),n[i]=js(i,!0,!0)}),[t,s,e,n]}const[Xa,Za,el,tl]=Qa();function pr(t,e){const s=e?t?tl:el:t?Za:Xa;return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(z(s,r)&&r in n?s:n,r,i)}const sl={get:pr(!1,!1)},nl={get:pr(!1,!0)},rl={get:pr(!0,!1)};const go=new WeakMap,_o=new WeakMap,mo=new WeakMap,il=new WeakMap;function ol(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function al(t){return t.__v_skip||!Object.isExtensible(t)?0:ol(Ca(t))}function sn(t){return ms(t)?t:gr(t,!1,Wa,sl,go)}function vo(t){return gr(t,!1,Ya,nl,_o)}function yo(t){return gr(t,!0,Ja,rl,mo)}function gr(t,e,s,n,r){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=al(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function as(t){return ms(t)?as(t.__v_raw):!!(t&&t.__v_isReactive)}function ms(t){return!!(t&&t.__v_isReadonly)}function Vs(t){return!!(t&&t.__v_isShallow)}function bo(t){return t?!!t.__v_raw:!1}function W(t){const e=t&&t.__v_raw;return e?W(e):t}function wo(t){return Object.isExtensible(t)&&eo(t,"__v_skip",!0),t}const vs=t=>ne(t)?sn(t):t,_r=t=>ne(t)?yo(t):t;class Eo{constructor(e,s,n,r){this.getter=e,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ur(()=>e(this._value),()=>Ms(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=W(this);return(!e._cacheable||e.effect.dirty)&&ct(e._value,e._value=e.effect.run())&&Ms(e,4),So(e),e.effect._dirtyLevel>=2&&Ms(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function ll(t,e,s=!1){let n,r;const i=H(t);return i?(n=t,r=xe):(n=t.get,r=t.set),new Eo(n,r,i||!r,s)}function So(t){var e;at&&Ot&&(t=W(t),lo(Ot,(e=t.dep)!=null?e:t.dep=uo(()=>t.dep=void 0,t instanceof Eo?t:void 0)))}function Ms(t,e=4,s){t=W(t);const n=t.dep;n&&co(n,e)}function be(t){return!!(t&&t.__v_isRef===!0)}function Oe(t){return Oo(t,!1)}function cl(t){return Oo(t,!0)}function Oo(t,e){return be(t)?t:new ul(t,e)}class ul{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:W(e),this._value=s?e:vs(e)}get value(){return So(this),this._value}set value(e){const s=this.__v_isShallow||Vs(e)||ms(e);e=s?e:W(e),ct(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:vs(e),Ms(this,4))}}function Rt(t){return be(t)?t.value:t}const hl={get:(t,e,s)=>Rt(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return be(r)&&!be(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function ko(t){return as(t)?t:new Proxy(t,hl)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lt(t,e,s,n){try{return n?t(...n):t()}catch(r){nn(r,e,s)}}function Le(t,e,s,n){if(H(t)){const r=lt(t,e,s,n);return r&&Qi(r)&&r.catch(i=>{nn(i,e,s)}),r}if(M(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Le(t[i],e,s,n));return r}}function nn(t,e,s,n=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){ft(),lt(l,null,10,[t,o,a]),dt();return}}fl(t,s,r,n)}function fl(t,e,s,n=!0){console.error(t)}let ys=!1,Bn=!1;const fe=[];let qe=0;const Ht=[];let tt=null,wt=0;const Ro=Promise.resolve();let mr=null;function xo(t){const e=mr||Ro;return t?e.then(this?t.bind(this):t):e}function dl(t){let e=qe+1,s=fe.length;for(;e<s;){const n=e+s>>>1,r=fe[n],i=bs(r);i<t||i===t&&r.pre?e=n+1:s=n}return e}function vr(t){(!fe.length||!fe.includes(t,ys&&t.allowRecurse?qe+1:qe))&&(t.id==null?fe.push(t):fe.splice(dl(t.id),0,t),Ao())}function Ao(){!ys&&!Bn&&(Bn=!0,mr=Ro.then(Po))}function pl(t){const e=fe.indexOf(t);e>qe&&fe.splice(e,1)}function gl(t){M(t)?Ht.push(...t):(!tt||!tt.includes(t,t.allowRecurse?wt+1:wt))&&Ht.push(t),Ao()}function qr(t,e,s=ys?qe+1:0){for(;s<fe.length;s++){const n=fe[s];if(n&&n.pre){if(t&&n.id!==t.uid)continue;fe.splice(s,1),s--,n()}}}function To(t){if(Ht.length){const e=[...new Set(Ht)].sort((s,n)=>bs(s)-bs(n));if(Ht.length=0,tt){tt.push(...e);return}for(tt=e,wt=0;wt<tt.length;wt++)tt[wt]();tt=null,wt=0}}const bs=t=>t.id==null?1/0:t.id,_l=(t,e)=>{const s=bs(t)-bs(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function Po(t){Bn=!1,ys=!0,fe.sort(_l);try{for(qe=0;qe<fe.length;qe++){const e=fe[qe];e&&e.active!==!1&&lt(e,null,14)}}finally{qe=0,fe.length=0,To(),ys=!1,mr=null,(fe.length||Ht.length)&&Po()}}function ml(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||te;let r=s;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[c]||te;d&&(r=s.map(g=>ie(g)?g.trim():g)),f&&(r=s.map(Dn))}let a,l=n[a=_n(e)]||n[a=_n(Ke(e))];!l&&i&&(l=n[a=_n(Yt(e))]),l&&Le(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Le(u,t,6,r)}}function Co(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!H(t)){const l=u=>{const c=Co(u,e,!0);c&&(a=!0,le(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ne(t)&&n.set(t,null),null):(M(i)?i.forEach(l=>o[l]=null):le(o,i),ne(t)&&n.set(t,o),o)}function rn(t,e){return!t||!Qs(e)?!1:(e=e.slice(2).replace(/Once$/,""),z(t,e[0].toLowerCase()+e.slice(1))||z(t,Yt(e))||z(t,e))}let ve=null,$o=null;function zs(t){const e=ve;return ve=t,$o=t&&t.type.__scopeId||null,e}function on(t,e=ve,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&ei(-1);const i=zs(e);let o;try{o=t(...r)}finally{zs(i),n._d&&ei(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function yn(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:g,ctx:b,inheritAttrs:k}=t,T=zs(t);let A,$;try{if(s.shapeFlag&4){const N=r||n,ee=N;A=Be(u.call(ee,N,c,f,g,d,b)),$=a}else{const N=e;A=Be(N.length>1?N(f,{attrs:a,slots:o,emit:l}):N(f,null)),$=e.props?a:vl(a)}}catch(N){hs.length=0,nn(N,t,1),A=ce(ws)}let L=A;if($&&k!==!1){const N=Object.keys($),{shapeFlag:ee}=L;N.length&&ee&7&&(i&&N.some(or)&&($=yl($,i)),L=qt(L,$,!1,!0))}return s.dirs&&(L=qt(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&(L.transition=s.transition),A=L,zs(T),A}const vl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Qs(s))&&((e||(e={}))[s]=t[s]);return e},yl=(t,e)=>{const s={};for(const n in t)(!or(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function bl(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Kr(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!rn(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Kr(n,o,u):!0:!!o;return!1}function Kr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!rn(s,i))return!0}return!1}function wl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const jo="components";function an(t,e){return Sl(jo,t,!0,e)||t}const El=Symbol.for("v-ndc");function Sl(t,e,s=!0,n=!1){const r=ve||de;if(r){const i=r.type;if(t===jo){const a=_c(i,!1);if(a&&(a===e||a===Ke(e)||a===en(Ke(e))))return i}const o=Vr(r[t]||i[t],e)||Vr(r.appContext[t],e);return!o&&n?i:o}}function Vr(t,e){return t&&(t[e]||t[Ke(e)]||t[en(Ke(e))])}const Ol=t=>t.__isSuspense;function kl(t,e){e&&e.pendingBranch?M(t)?e.effects.push(...t):e.effects.push(t):gl(t)}const Rl=Symbol.for("v-scx"),xl=()=>We(Rl),Is={};function ls(t,e,s){return Io(t,e,s)}function Io(t,e,{immediate:s,deep:n,flush:r,once:i,onTrack:o,onTrigger:a}=te){if(e&&i){const B=e;e=(...pe)=>{B(...pe),ee()}}const l=de,u=B=>n===!0?B:St(B,n===!1?1:void 0);let c,f=!1,d=!1;if(be(t)?(c=()=>t.value,f=Vs(t)):as(t)?(c=()=>u(t),f=!0):M(t)?(d=!0,f=t.some(B=>as(B)||Vs(B)),c=()=>t.map(B=>{if(be(B))return B.value;if(as(B))return u(B);if(H(B))return lt(B,l,2)})):H(t)?e?c=()=>lt(t,l,2):c=()=>(g&&g(),Le(t,l,3,[b])):c=xe,e&&n){const B=c;c=()=>St(B())}let g,b=B=>{g=L.onStop=()=>{lt(B,l,4),g=L.onStop=void 0}},k;if(hn)if(b=xe,e?s&&Le(e,l,3,[c(),d?[]:void 0,b]):c(),r==="sync"){const B=xl();k=B.__watcherHandles||(B.__watcherHandles=[])}else return xe;let T=d?new Array(t.length).fill(Is):Is;const A=()=>{if(!(!L.active||!L.dirty))if(e){const B=L.run();(n||f||(d?B.some((pe,ke)=>ct(pe,T[ke])):ct(B,T)))&&(g&&g(),Le(e,l,3,[B,T===Is?void 0:d&&T[0]===Is?[]:T,b]),T=B)}else L.run()};A.allowRecurse=!!e;let $;r==="sync"?$=A:r==="post"?$=()=>me(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),$=()=>vr(A));const L=new ur(c,xe,$),N=io(),ee=()=>{L.stop(),N&&ar(N.effects,L)};return e?s?A():T=L.run():r==="post"?me(L.run.bind(L),l&&l.suspense):L.run(),k&&k.push(ee),ee}function Al(t,e,s){const n=this.proxy,r=ie(t)?t.includes(".")?Lo(n,t):()=>n[t]:t.bind(n,n);let i;H(e)?i=e:(i=e.handler,s=e);const o=Rs(this),a=Io(r,i.bind(n),s);return o(),a}function Lo(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}function St(t,e=1/0,s){if(e<=0||!ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,be(t))St(t.value,e,s);else if(M(t))for(let n=0;n<t.length;n++)St(t[n],e,s);else if(Yi(t)||Ft(t))t.forEach(n=>{St(n,e,s)});else if(Zi(t))for(const n in t)St(t[n],e,s);return t}function Gs(t,e){if(ve===null)return t;const s=fn(ve)||ve.proxy,n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=te]=e[r];i&&(H(i)&&(i={mounted:i,updated:i}),i.deep&&St(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function _t(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ft(),Le(l,s,8,[t.el,a,t,e]),dt())}}/*! #__NO_SIDE_EFFECTS__ */function Uo(t,e){return H(t)?le({name:t.name},e,{setup:t}):t}const Fs=t=>!!t.type.__asyncLoader,Do=t=>t.type.__isKeepAlive;function Tl(t,e){No(t,"a",e)}function Pl(t,e){No(t,"da",e)}function No(t,e,s=de){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ln(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Do(r.parent.vnode)&&Cl(n,e,s,r),r=r.parent}}function Cl(t,e,s,n){const r=ln(e,t,n,!0);Mo(()=>{ar(n[e],r)},s)}function ln(t,e,s=de,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;ft();const a=Rs(s),l=Le(e,s,t,o);return a(),dt(),l});return n?r.unshift(i):r.push(i),i}}const Je=t=>(e,s=de)=>(!hn||t==="sp")&&ln(t,(...n)=>e(...n),s),$l=Je("bm"),yr=Je("m"),jl=Je("bu"),Il=Je("u"),Ll=Je("bum"),Mo=Je("um"),Ul=Je("sp"),Dl=Je("rtg"),Nl=Je("rtc");function Ml(t,e=de){ln("ec",t,e)}function Fl(t,e,s,n){let r;const i=s;if(M(t)||ie(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i)}else if(ne(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];r[a]=e(t[u],u,a,i)}}else r=[];return r}const qn=t=>t?ea(t)?fn(t)||t.proxy:qn(t.parent):null,cs=le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qn(t.parent),$root:t=>qn(t.root),$emit:t=>t.emit,$options:t=>br(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,vr(t.update)}),$nextTick:t=>t.n||(t.n=xo.bind(t.proxy)),$watch:t=>Al.bind(t)}),bn=(t,e)=>t!==te&&!t.__isScriptSetup&&z(t,e),Hl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(bn(n,e))return o[e]=1,n[e];if(r!==te&&z(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&z(u,e))return o[e]=3,i[e];if(s!==te&&z(s,e))return o[e]=4,s[e];Kn&&(o[e]=0)}}const c=cs[e];let f,d;if(c)return e==="$attrs"&&ye(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==te&&z(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,z(d,e))return d[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return bn(r,e)?(r[e]=s,!0):n!==te&&z(n,e)?(n[e]=s,!0):z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==te&&z(t,o)||bn(e,o)||(a=i[0])&&z(a,o)||z(n,o)||z(cs,o)||z(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:z(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function zr(t){return M(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Kn=!0;function Bl(t){const e=br(t),s=t.proxy,n=t.ctx;Kn=!1,e.beforeCreate&&Gr(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:g,updated:b,activated:k,deactivated:T,beforeDestroy:A,beforeUnmount:$,destroyed:L,unmounted:N,render:ee,renderTracked:B,renderTriggered:pe,errorCaptured:ke,serverPrefetch:pt,expose:De,inheritAttrs:Ye,components:gt,directives:Ne,filters:Xt}=e;if(u&&ql(u,n,null),o)for(const Q in o){const G=o[Q];H(G)&&(n[Q]=G.bind(s))}if(r){const Q=r.call(s,s);ne(Q)&&(t.data=sn(Q))}if(Kn=!0,i)for(const Q in i){const G=i[Q],Ve=H(G)?G.bind(s,s):H(G.get)?G.get.bind(s,s):xe,Qe=!H(G)&&H(G.set)?G.set.bind(s):xe,Me=je({get:Ve,set:Qe});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>Me.value,set:_e=>Me.value=_e})}if(a)for(const Q in a)Fo(a[Q],n,s,Q);if(l){const Q=H(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(G=>{Hs(G,Q[G])})}c&&Gr(c,t,"c");function oe(Q,G){M(G)?G.forEach(Ve=>Q(Ve.bind(s))):G&&Q(G.bind(s))}if(oe($l,f),oe(yr,d),oe(jl,g),oe(Il,b),oe(Tl,k),oe(Pl,T),oe(Ml,ke),oe(Nl,B),oe(Dl,pe),oe(Ll,$),oe(Mo,N),oe(Ul,pt),M(De))if(De.length){const Q=t.exposed||(t.exposed={});De.forEach(G=>{Object.defineProperty(Q,G,{get:()=>s[G],set:Ve=>s[G]=Ve})})}else t.exposed||(t.exposed={});ee&&t.render===xe&&(t.render=ee),Ye!=null&&(t.inheritAttrs=Ye),gt&&(t.components=gt),Ne&&(t.directives=Ne)}function ql(t,e,s=xe){M(t)&&(t=Vn(t));for(const n in t){const r=t[n];let i;ne(r)?"default"in r?i=We(r.from||n,r.default,!0):i=We(r.from||n):i=We(r),be(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Gr(t,e,s){Le(M(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Fo(t,e,s,n){const r=n.includes(".")?Lo(s,n):()=>s[n];if(ie(t)){const i=e[t];H(i)&&ls(r,i)}else if(H(t))ls(r,t.bind(s));else if(ne(t))if(M(t))t.forEach(i=>Fo(i,e,s,n));else{const i=H(t.handler)?t.handler.bind(s):e[t.handler];H(i)&&ls(r,i,t)}}function br(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Ws(l,u,o,!0)),Ws(l,e,o)),ne(e)&&i.set(e,l),l}function Ws(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Ws(t,i,s,!0),r&&r.forEach(o=>Ws(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=Kl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Kl={data:Wr,props:Jr,emits:Jr,methods:ns,computed:ns,beforeCreate:ge,created:ge,beforeMount:ge,mounted:ge,beforeUpdate:ge,updated:ge,beforeDestroy:ge,beforeUnmount:ge,destroyed:ge,unmounted:ge,activated:ge,deactivated:ge,errorCaptured:ge,serverPrefetch:ge,components:ns,directives:ns,watch:zl,provide:Wr,inject:Vl};function Wr(t,e){return e?t?function(){return le(H(t)?t.call(this,this):t,H(e)?e.call(this,this):e)}:e:t}function Vl(t,e){return ns(Vn(t),Vn(e))}function Vn(t){if(M(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ge(t,e){return t?[...new Set([].concat(t,e))]:e}function ns(t,e){return t?le(Object.create(null),t,e):e}function Jr(t,e){return t?M(t)&&M(e)?[...new Set([...t,...e])]:le(Object.create(null),zr(t),zr(e??{})):e}function zl(t,e){if(!t)return e;if(!e)return t;const s=le(Object.create(null),t);for(const n in e)s[n]=ge(t[n],e[n]);return s}function Ho(){return{app:null,config:{isNativeTag:Ta,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gl=0;function Wl(t,e){return function(n,r=null){H(n)||(n=le({},n)),r!=null&&!ne(r)&&(r=null);const i=Ho(),o=new WeakSet;let a=!1;const l=i.app={_uid:Gl++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:vc,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&H(u.install)?(o.add(u),u.install(l,...c)):H(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!a){const d=ce(n,r);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,u):t(d,u,f),a=!0,l._container=u,u.__vue_app__=l,fn(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=us;us=l;try{return u()}finally{us=c}}};return l}}let us=null;function Hs(t,e){if(de){let s=de.provides;const n=de.parent&&de.parent.provides;n===s&&(s=de.provides=Object.create(n)),s[t]=e}}function We(t,e,s=!1){const n=de||ve;if(n||us){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:us._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&H(e)?e.call(n&&n.proxy):e}}const Bo={},qo=()=>Object.create(Bo),Ko=t=>Object.getPrototypeOf(t)===Bo;function Jl(t,e,s,n=!1){const r={},i=qo();t.propsDefaults=Object.create(null),Vo(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:vo(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Yl(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=W(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(rn(t.emitsOptions,d))continue;const g=e[d];if(l)if(z(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const b=Ke(d);r[b]=zn(l,a,b,g,t,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{Vo(t,e,r,i)&&(u=!0);let c;for(const f in a)(!e||!z(e,f)&&((c=Yt(f))===f||!z(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=zn(l,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!z(e,f))&&(delete i[f],u=!0)}u&&Ge(t.attrs,"set","")}function Vo(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(os(l))continue;const u=e[l];let c;r&&z(r,c=Ke(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:rn(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=W(s),u=a||te;for(let c=0;c<i.length;c++){const f=i[c];s[f]=zn(r,l,f,u[f],t,!z(u,f))}}return o}function zn(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=z(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&H(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Rs(r);n=u[s]=l.call(null,e),c()}}else n=l}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Yt(s))&&(n=!0))}return n}function zo(t,e,s=!1){const n=e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!H(t)){const c=f=>{l=!0;const[d,g]=zo(f,e,!0);le(o,d),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ne(t)&&n.set(t,Mt),Mt;if(M(i))for(let c=0;c<i.length;c++){const f=Ke(i[c]);Yr(f)&&(o[f]=te)}else if(i)for(const c in i){const f=Ke(c);if(Yr(f)){const d=i[c],g=o[f]=M(d)||H(d)?{type:d}:le({},d);if(g){const b=Zr(Boolean,g.type),k=Zr(String,g.type);g[0]=b>-1,g[1]=k<0||b<k,(b>-1||z(g,"default"))&&a.push(f)}}}const u=[o,a];return ne(t)&&n.set(t,u),u}function Yr(t){return t[0]!=="$"&&!os(t)}function Qr(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Xr(t,e){return Qr(t)===Qr(e)}function Zr(t,e){return M(e)?e.findIndex(s=>Xr(s,t)):H(e)&&Xr(e,t)?0:-1}const Go=t=>t[0]==="_"||t==="$stable",wr=t=>M(t)?t.map(Be):[Be(t)],Ql=(t,e,s)=>{if(e._n)return e;const n=on((...r)=>wr(e(...r)),s);return n._c=!1,n},Wo=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Go(r))continue;const i=t[r];if(H(i))e[r]=Ql(r,i,n);else if(i!=null){const o=wr(i);e[r]=()=>o}}},Jo=(t,e)=>{const s=wr(e);t.slots.default=()=>s},Xl=(t,e)=>{const s=t.slots=qo();if(t.vnode.shapeFlag&32){const n=e._;n?(le(s,e),eo(s,"_",n,!0)):Wo(e,s)}else e&&Jo(t,e)},Zl=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=te;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(le(r,e),!s&&a===1&&delete r._):(i=!e.$stable,Wo(e,r)),o=e}else e&&(Jo(t,e),o={default:1});if(i)for(const a in r)!Go(a)&&o[a]==null&&delete r[a]};function Gn(t,e,s,n,r=!1){if(M(t)){t.forEach((d,g)=>Gn(d,e&&(M(e)?e[g]:e),s,n,r));return}if(Fs(n)&&!r)return;const i=n.shapeFlag&4?fn(n.component)||n.component.proxy:n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===te?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(ie(u)?(c[u]=null,z(f,u)&&(f[u]=null)):be(u)&&(u.value=null)),H(l))lt(l,a,12,[o,c]);else{const d=ie(l),g=be(l);if(d||g){const b=()=>{if(t.f){const k=d?z(f,l)?f[l]:c[l]:l.value;r?M(k)&&ar(k,i):M(k)?k.includes(i)||k.push(i):d?(c[l]=[i],z(f,l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,z(f,l)&&(f[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(b.id=-1,me(b,s)):b()}}}const me=kl;function ec(t){return tc(t)}function tc(t,e){const s=to();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:g=xe,insertStaticContent:b}=t,k=(h,p,_,y=null,m=null,S=null,x=void 0,E=null,O=!!p.dynamicChildren)=>{if(h===p)return;h&&!es(h,p)&&(y=v(h),_e(h,m,S,!0),h=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:w,ref:C,shapeFlag:U}=p;switch(w){case cn:T(h,p,_,y);break;case ws:A(h,p,_,y);break;case En:h==null&&$(p,_,y,x);break;case $e:gt(h,p,_,y,m,S,x,E,O);break;default:U&1?ee(h,p,_,y,m,S,x,E,O):U&6?Ne(h,p,_,y,m,S,x,E,O):(U&64||U&128)&&w.process(h,p,_,y,m,S,x,E,O,j)}C!=null&&m&&Gn(C,h&&h.ref,S,p||h,!p)},T=(h,p,_,y)=>{if(h==null)n(p.el=a(p.children),_,y);else{const m=p.el=h.el;p.children!==h.children&&u(m,p.children)}},A=(h,p,_,y)=>{h==null?n(p.el=l(p.children||""),_,y):p.el=h.el},$=(h,p,_,y)=>{[h.el,h.anchor]=b(h.children,p,_,y,h.el,h.anchor)},L=({el:h,anchor:p},_,y)=>{let m;for(;h&&h!==p;)m=d(h),n(h,_,y),h=m;n(p,_,y)},N=({el:h,anchor:p})=>{let _;for(;h&&h!==p;)_=d(h),r(h),h=_;r(p)},ee=(h,p,_,y,m,S,x,E,O)=>{p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),h==null?B(p,_,y,m,S,x,E,O):pt(h,p,m,S,x,E,O)},B=(h,p,_,y,m,S,x,E)=>{let O,w;const{props:C,shapeFlag:U,transition:I,dirs:F}=h;if(O=h.el=o(h.type,S,C&&C.is,C),U&8?c(O,h.children):U&16&&ke(h.children,O,null,y,m,wn(h,S),x,E),F&&_t(h,null,y,"created"),pe(O,h,h.scopeId,x,y),C){for(const X in C)X!=="value"&&!os(X)&&i(O,X,null,C[X],S,h.children,y,m,ue);"value"in C&&i(O,"value",null,C.value,S),(w=C.onVnodeBeforeMount)&&He(w,y,h)}F&&_t(h,null,y,"beforeMount");const K=sc(m,I);K&&I.beforeEnter(O),n(O,p,_),((w=C&&C.onVnodeMounted)||K||F)&&me(()=>{w&&He(w,y,h),K&&I.enter(O),F&&_t(h,null,y,"mounted")},m)},pe=(h,p,_,y,m)=>{if(_&&g(h,_),y)for(let S=0;S<y.length;S++)g(h,y[S]);if(m){let S=m.subTree;if(p===S){const x=m.vnode;pe(h,x,x.scopeId,x.slotScopeIds,m.parent)}}},ke=(h,p,_,y,m,S,x,E,O=0)=>{for(let w=O;w<h.length;w++){const C=h[w]=E?st(h[w]):Be(h[w]);k(null,C,p,_,y,m,S,x,E)}},pt=(h,p,_,y,m,S,x)=>{const E=p.el=h.el;let{patchFlag:O,dynamicChildren:w,dirs:C}=p;O|=h.patchFlag&16;const U=h.props||te,I=p.props||te;let F;if(_&&mt(_,!1),(F=I.onVnodeBeforeUpdate)&&He(F,_,p,h),C&&_t(p,h,_,"beforeUpdate"),_&&mt(_,!0),w?De(h.dynamicChildren,w,E,_,y,wn(p,m),S):x||G(h,p,E,null,_,y,wn(p,m),S,!1),O>0){if(O&16)Ye(E,p,U,I,_,y,m);else if(O&2&&U.class!==I.class&&i(E,"class",null,I.class,m),O&4&&i(E,"style",U.style,I.style,m),O&8){const K=p.dynamicProps;for(let X=0;X<K.length;X++){const se=K[X],ae=U[se],Te=I[se];(Te!==ae||se==="value")&&i(E,se,ae,Te,m,h.children,_,y,ue)}}O&1&&h.children!==p.children&&c(E,p.children)}else!x&&w==null&&Ye(E,p,U,I,_,y,m);((F=I.onVnodeUpdated)||C)&&me(()=>{F&&He(F,_,p,h),C&&_t(p,h,_,"updated")},y)},De=(h,p,_,y,m,S,x)=>{for(let E=0;E<p.length;E++){const O=h[E],w=p[E],C=O.el&&(O.type===$e||!es(O,w)||O.shapeFlag&70)?f(O.el):_;k(O,w,C,null,y,m,S,x,!0)}},Ye=(h,p,_,y,m,S,x)=>{if(_!==y){if(_!==te)for(const E in _)!os(E)&&!(E in y)&&i(h,E,_[E],null,x,p.children,m,S,ue);for(const E in y){if(os(E))continue;const O=y[E],w=_[E];O!==w&&E!=="value"&&i(h,E,w,O,x,p.children,m,S,ue)}"value"in y&&i(h,"value",_.value,y.value,x)}},gt=(h,p,_,y,m,S,x,E,O)=>{const w=p.el=h?h.el:a(""),C=p.anchor=h?h.anchor:a("");let{patchFlag:U,dynamicChildren:I,slotScopeIds:F}=p;F&&(E=E?E.concat(F):F),h==null?(n(w,_,y),n(C,_,y),ke(p.children||[],_,C,m,S,x,E,O)):U>0&&U&64&&I&&h.dynamicChildren?(De(h.dynamicChildren,I,_,m,S,x,E),(p.key!=null||m&&p===m.subTree)&&Yo(h,p,!0)):G(h,p,_,C,m,S,x,E,O)},Ne=(h,p,_,y,m,S,x,E,O)=>{p.slotScopeIds=E,h==null?p.shapeFlag&512?m.ctx.activate(p,_,y,x,O):Xt(p,_,y,m,S,x,O):Tt(h,p,O)},Xt=(h,p,_,y,m,S,x)=>{const E=h.component=hc(h,y,m);if(Do(h)&&(E.ctx.renderer=j),fc(E),E.asyncDep){if(m&&m.registerDep(E,oe),!h.el){const O=E.subTree=ce(ws);A(null,O,p,_)}}else oe(E,h,p,_,m,S,x)},Tt=(h,p,_)=>{const y=p.component=h.component;if(bl(h,p,_))if(y.asyncDep&&!y.asyncResolved){Q(y,p,_);return}else y.next=p,pl(y.update),y.effect.dirty=!0,y.update();else p.el=h.el,y.vnode=p},oe=(h,p,_,y,m,S,x)=>{const E=()=>{if(h.isMounted){let{next:C,bu:U,u:I,parent:F,vnode:K}=h;{const $t=Qo(h);if($t){C&&(C.el=K.el,Q(h,C,x)),$t.asyncDep.then(()=>{h.isUnmounted||E()});return}}let X=C,se;mt(h,!1),C?(C.el=K.el,Q(h,C,x)):C=K,U&&Ns(U),(se=C.props&&C.props.onVnodeBeforeUpdate)&&He(se,F,C,K),mt(h,!0);const ae=yn(h),Te=h.subTree;h.subTree=ae,k(Te,ae,f(Te.el),v(Te),h,m,S),C.el=ae.el,X===null&&wl(h,ae.el),I&&me(I,m),(se=C.props&&C.props.onVnodeUpdated)&&me(()=>He(se,F,C,K),m)}else{let C;const{el:U,props:I}=p,{bm:F,m:K,parent:X}=h,se=Fs(p);if(mt(h,!1),F&&Ns(F),!se&&(C=I&&I.onVnodeBeforeMount)&&He(C,X,p),mt(h,!0),U&&re){const ae=()=>{h.subTree=yn(h),re(U,h.subTree,h,m,null)};se?p.type.__asyncLoader().then(()=>!h.isUnmounted&&ae()):ae()}else{const ae=h.subTree=yn(h);k(null,ae,_,y,h,m,S),p.el=ae.el}if(K&&me(K,m),!se&&(C=I&&I.onVnodeMounted)){const ae=p;me(()=>He(C,X,ae),m)}(p.shapeFlag&256||X&&Fs(X.vnode)&&X.vnode.shapeFlag&256)&&h.a&&me(h.a,m),h.isMounted=!0,p=_=y=null}},O=h.effect=new ur(E,xe,()=>vr(w),h.scope),w=h.update=()=>{O.dirty&&O.run()};w.id=h.uid,mt(h,!0),w()},Q=(h,p,_)=>{p.component=h;const y=h.vnode.props;h.vnode=p,h.next=null,Yl(h,p.props,y,_),Zl(h,p.children,_),ft(),qr(h),dt()},G=(h,p,_,y,m,S,x,E,O=!1)=>{const w=h&&h.children,C=h?h.shapeFlag:0,U=p.children,{patchFlag:I,shapeFlag:F}=p;if(I>0){if(I&128){Qe(w,U,_,y,m,S,x,E,O);return}else if(I&256){Ve(w,U,_,y,m,S,x,E,O);return}}F&8?(C&16&&ue(w,m,S),U!==w&&c(_,U)):C&16?F&16?Qe(w,U,_,y,m,S,x,E,O):ue(w,m,S,!0):(C&8&&c(_,""),F&16&&ke(U,_,y,m,S,x,E,O))},Ve=(h,p,_,y,m,S,x,E,O)=>{h=h||Mt,p=p||Mt;const w=h.length,C=p.length,U=Math.min(w,C);let I;for(I=0;I<U;I++){const F=p[I]=O?st(p[I]):Be(p[I]);k(h[I],F,_,null,m,S,x,E,O)}w>C?ue(h,m,S,!0,!1,U):ke(p,_,y,m,S,x,E,O,U)},Qe=(h,p,_,y,m,S,x,E,O)=>{let w=0;const C=p.length;let U=h.length-1,I=C-1;for(;w<=U&&w<=I;){const F=h[w],K=p[w]=O?st(p[w]):Be(p[w]);if(es(F,K))k(F,K,_,null,m,S,x,E,O);else break;w++}for(;w<=U&&w<=I;){const F=h[U],K=p[I]=O?st(p[I]):Be(p[I]);if(es(F,K))k(F,K,_,null,m,S,x,E,O);else break;U--,I--}if(w>U){if(w<=I){const F=I+1,K=F<C?p[F].el:y;for(;w<=I;)k(null,p[w]=O?st(p[w]):Be(p[w]),_,K,m,S,x,E,O),w++}}else if(w>I)for(;w<=U;)_e(h[w],m,S,!0),w++;else{const F=w,K=w,X=new Map;for(w=K;w<=I;w++){const we=p[w]=O?st(p[w]):Be(p[w]);we.key!=null&&X.set(we.key,w)}let se,ae=0;const Te=I-K+1;let $t=!1,$r=0;const Zt=new Array(Te);for(w=0;w<Te;w++)Zt[w]=0;for(w=F;w<=U;w++){const we=h[w];if(ae>=Te){_e(we,m,S,!0);continue}let Fe;if(we.key!=null)Fe=X.get(we.key);else for(se=K;se<=I;se++)if(Zt[se-K]===0&&es(we,p[se])){Fe=se;break}Fe===void 0?_e(we,m,S,!0):(Zt[Fe-K]=w+1,Fe>=$r?$r=Fe:$t=!0,k(we,p[Fe],_,null,m,S,x,E,O),ae++)}const jr=$t?nc(Zt):Mt;for(se=jr.length-1,w=Te-1;w>=0;w--){const we=K+w,Fe=p[we],Ir=we+1<C?p[we+1].el:y;Zt[w]===0?k(null,Fe,_,Ir,m,S,x,E,O):$t&&(se<0||w!==jr[se]?Me(Fe,_,Ir,2):se--)}}},Me=(h,p,_,y,m=null)=>{const{el:S,type:x,transition:E,children:O,shapeFlag:w}=h;if(w&6){Me(h.component.subTree,p,_,y);return}if(w&128){h.suspense.move(p,_,y);return}if(w&64){x.move(h,p,_,j);return}if(x===$e){n(S,p,_);for(let U=0;U<O.length;U++)Me(O[U],p,_,y);n(h.anchor,p,_);return}if(x===En){L(h,p,_);return}if(y!==2&&w&1&&E)if(y===0)E.beforeEnter(S),n(S,p,_),me(()=>E.enter(S),m);else{const{leave:U,delayLeave:I,afterLeave:F}=E,K=()=>n(S,p,_),X=()=>{U(S,()=>{K(),F&&F()})};I?I(S,K,X):X()}else n(S,p,_)},_e=(h,p,_,y=!1,m=!1)=>{const{type:S,props:x,ref:E,children:O,dynamicChildren:w,shapeFlag:C,patchFlag:U,dirs:I}=h;if(E!=null&&Gn(E,null,_,h,!0),C&256){p.ctx.deactivate(h);return}const F=C&1&&I,K=!Fs(h);let X;if(K&&(X=x&&x.onVnodeBeforeUnmount)&&He(X,p,h),C&6)As(h.component,_,y);else{if(C&128){h.suspense.unmount(_,y);return}F&&_t(h,null,p,"beforeUnmount"),C&64?h.type.remove(h,p,_,m,j,y):w&&(S!==$e||U>0&&U&64)?ue(w,p,_,!1,!0):(S===$e&&U&384||!m&&C&16)&&ue(O,p,_),y&&Pt(h)}(K&&(X=x&&x.onVnodeUnmounted)||F)&&me(()=>{X&&He(X,p,h),F&&_t(h,null,p,"unmounted")},_)},Pt=h=>{const{type:p,el:_,anchor:y,transition:m}=h;if(p===$e){Ct(_,y);return}if(p===En){N(h);return}const S=()=>{r(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(h.shapeFlag&1&&m&&!m.persisted){const{leave:x,delayLeave:E}=m,O=()=>x(_,S);E?E(h.el,S,O):O()}else S()},Ct=(h,p)=>{let _;for(;h!==p;)_=d(h),r(h),h=_;r(p)},As=(h,p,_)=>{const{bum:y,scope:m,update:S,subTree:x,um:E}=h;y&&Ns(y),m.stop(),S&&(S.active=!1,_e(x,h,p,_)),E&&me(E,p),me(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},ue=(h,p,_,y=!1,m=!1,S=0)=>{for(let x=S;x<h.length;x++)_e(h[x],p,_,y,m)},v=h=>h.shapeFlag&6?v(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let P=!1;const R=(h,p,_)=>{h==null?p._vnode&&_e(p._vnode,null,null,!0):k(p._vnode||null,h,p,null,null,null,_),P||(P=!0,qr(),To(),P=!1),p._vnode=h},j={p:k,um:_e,m:Me,r:Pt,mt:Xt,mc:ke,pc:G,pbc:De,n:v,o:t};let J,re;return{render:R,hydrate:J,createApp:Wl(R,J)}}function wn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function mt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function sc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yo(t,e,s=!1){const n=t.children,r=e.children;if(M(n)&&M(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=st(r[i]),a.el=o.el),s||Yo(o,a)),a.type===cn&&(a.el=o.el)}}function nc(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Qo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qo(e)}const rc=t=>t.__isTeleport,$e=Symbol.for("v-fgt"),cn=Symbol.for("v-txt"),ws=Symbol.for("v-cmt"),En=Symbol.for("v-stc"),hs=[];let Ie=null;function Ae(t=!1){hs.push(Ie=t?null:[])}function ic(){hs.pop(),Ie=hs[hs.length-1]||null}let Es=1;function ei(t){Es+=t}function Xo(t){return t.dynamicChildren=Es>0?Ie||Mt:null,ic(),Es>0&&Ie&&Ie.push(t),t}function ut(t,e,s,n,r,i){return Xo(D(t,e,s,n,r,i,!0))}function un(t,e,s,n,r){return Xo(ce(t,e,s,n,r,!0))}function Wn(t){return t?t.__v_isVNode===!0:!1}function es(t,e){return t.type===e.type&&t.key===e.key}const Zo=({key:t})=>t??null,Bs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ie(t)||be(t)||H(t)?{i:ve,r:t,k:e,f:!!s}:t:null);function D(t,e=null,s=null,n=0,r=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zo(e),ref:e&&Bs(e),scopeId:$o,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ve};return a?(Er(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ie(s)?8:16),Es>0&&!o&&Ie&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ie.push(l),l}const ce=oc;function oc(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===El)&&(t=ws),Wn(t)){const a=qt(t,e,!0);return s&&Er(a,s),Es>0&&!i&&Ie&&(a.shapeFlag&6?Ie[Ie.indexOf(t)]=a:Ie.push(a)),a.patchFlag|=-2,a}if(mc(t)&&(t=t.__vccOpts),e){e=ac(e);let{class:a,style:l}=e;a&&!ie(a)&&(e.class=_s(a)),ne(l)&&(bo(l)&&!M(l)&&(l=le({},l)),e.style=cr(l))}const o=ie(t)?1:Ol(t)?128:rc(t)?64:ne(t)?4:H(t)?2:0;return D(t,e,s,n,r,o,i,!0)}function ac(t){return t?bo(t)||Ko(t)?le({},t):t:null}function qt(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?lc(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Zo(u),ref:e&&e.ref?s&&i?M(i)?i.concat(Bs(e)):[i,Bs(e)]:Bs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qt(t.ssContent),ssFallback:t.ssFallback&&qt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&(c.transition=l.clone(c)),c}function Kt(t=" ",e=0){return ce(cn,null,t,e)}function Be(t){return t==null||typeof t=="boolean"?ce(ws):M(t)?ce($e,null,t.slice()):typeof t=="object"?st(t):ce(cn,null,String(t))}function st(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qt(t)}function Er(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(M(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Er(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!Ko(e)?e._ctx=ve:r===3&&ve&&(ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else H(e)?(e={default:e,_ctx:ve},s=32):(e=String(e),n&64?(s=16,e=[Kt(e)]):s=8);t.children=e,t.shapeFlag|=s}function lc(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=_s([e.class,n.class]));else if(r==="style")e.style=cr([e.style,n.style]);else if(Qs(r)){const i=e[r],o=n[r];o&&i!==o&&!(M(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function He(t,e,s,n=null){Le(t,e,7,[s,n])}const cc=Ho();let uc=0;function hc(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||cc,i={uid:uc++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ro(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zo(n,r),emitsOptions:Co(n,r),emit:null,emitted:null,propsDefaults:te,inheritAttrs:n.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ml.bind(null,i),t.ce&&t.ce(i),i}let de=null,Js,Jn;{const t=to(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Js=e("__VUE_INSTANCE_SETTERS__",s=>de=s),Jn=e("__VUE_SSR_SETTERS__",s=>hn=s)}const Rs=t=>{const e=de;return Js(t),t.scope.on(),()=>{t.scope.off(),Js(e)}},ti=()=>{de&&de.scope.off(),Js(null)};function ea(t){return t.vnode.shapeFlag&4}let hn=!1;function fc(t,e=!1){e&&Jn(e);const{props:s,children:n}=t.vnode,r=ea(t);Jl(t,s,r,e),Xl(t,n);const i=r?dc(t,e):void 0;return e&&Jn(!1),i}function dc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hl);const{setup:n}=s;if(n){const r=t.setupContext=n.length>1?gc(t):null,i=Rs(t);ft();const o=lt(n,t,0,[t.props,r]);if(dt(),i(),Qi(o)){if(o.then(ti,ti),e)return o.then(a=>{si(t,a,e)}).catch(a=>{nn(a,t,0)});t.asyncDep=o}else si(t,o,e)}else ta(t,e)}function si(t,e,s){H(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=ko(e)),ta(t,s)}let ni;function ta(t,e,s){const n=t.type;if(!t.render){if(!e&&ni&&!n.render){const r=n.template||br(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=le(le({isCustomElement:i,delimiters:a},o),l);n.render=ni(r,u)}}t.render=n.render||xe}{const r=Rs(t);ft();try{Bl(t)}finally{dt(),r()}}}const pc={get(t,e){return ye(t,"get",""),t[e]}};function gc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,pc),slots:t.slots,emit:t.emit,expose:e}}function fn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ko(wo(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in cs)return cs[s](t)},has(e,s){return s in e||s in cs}}))}function _c(t,e=!0){return H(t)?t.displayName||t.name:t.name||e&&t.__name}function mc(t){return H(t)&&"__vccOpts"in t}const je=(t,e)=>ll(t,e,hn);function sa(t,e,s){const n=arguments.length;return n===2?ne(e)&&!M(e)?Wn(e)?ce(t,null,[e]):ce(t,e):ce(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Wn(s)&&(s=[s]),ce(t,e,s))}const vc="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yc="http://www.w3.org/2000/svg",bc="http://www.w3.org/1998/Math/MathML",nt=typeof document<"u"?document:null,ri=nt&&nt.createElement("template"),wc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?nt.createElementNS(yc,t):e==="mathml"?nt.createElementNS(bc,t):nt.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>nt.createTextNode(t),createComment:t=>nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{ri.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const a=ri.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ec=Symbol("_vtc");function Sc(t,e,s){const n=t[Ec];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ii=Symbol("_vod"),Oc=Symbol("_vsh"),kc=Symbol(""),Rc=/(^|;)\s*display\s*:/;function xc(t,e,s){const n=t.style,r=ie(s);let i=!1;if(s&&!r){if(e)if(ie(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&qs(n,a,"")}else for(const o in e)s[o]==null&&qs(n,o,"");for(const o in s)o==="display"&&(i=!0),qs(n,o,s[o])}else if(r){if(e!==s){const o=n[kc];o&&(s+=";"+o),n.cssText=s,i=Rc.test(s)}}else e&&t.removeAttribute("style");ii in t&&(t[ii]=i?n.display:"",t[Oc]&&(n.display="none"))}const oi=/\s*!important$/;function qs(t,e,s){if(M(s))s.forEach(n=>qs(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Ac(t,e);oi.test(s)?t.setProperty(Yt(n),s.replace(oi,""),"important"):t[n]=s}}const ai=["Webkit","Moz","ms"],Sn={};function Ac(t,e){const s=Sn[e];if(s)return s;let n=Ke(e);if(n!=="filter"&&n in t)return Sn[e]=n;n=en(n);for(let r=0;r<ai.length;r++){const i=ai[r]+n;if(i in t)return Sn[e]=i}return e}const li="http://www.w3.org/1999/xlink";function Tc(t,e,s,n,r){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(li,e.slice(6,e.length)):t.setAttributeNS(li,e,s);else{const i=Ma(e);s==null||i&&!so(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function Pc(t,e,s,n,r,i,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,r,i),t[e]=s??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=s??"";(u!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let l=!1;if(s===""||s==null){const u=typeof t[e];u==="boolean"?s=so(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(e)}function Ut(t,e,s,n){t.addEventListener(e,s,n)}function Cc(t,e,s,n){t.removeEventListener(e,s,n)}const ci=Symbol("_vei");function $c(t,e,s,n,r=null){const i=t[ci]||(t[ci]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=jc(e);if(n){const u=i[e]=Uc(n,r);Ut(t,a,u,l)}else o&&(Cc(t,a,o,l),i[e]=void 0)}}const ui=/(?:Once|Passive|Capture)$/;function jc(t){let e;if(ui.test(t)){e={};let n;for(;n=t.match(ui);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let On=0;const Ic=Promise.resolve(),Lc=()=>On||(Ic.then(()=>On=0),On=Date.now());function Uc(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Le(Dc(n,s.value),e,5,[n])};return s.value=t,s.attached=Lc(),s}function Dc(t,e){if(M(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const hi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Nc=(t,e,s,n,r,i,o,a,l)=>{const u=r==="svg";e==="class"?Sc(t,n,u):e==="style"?xc(t,s,n):Qs(e)?or(e)||$c(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mc(t,e,n,u))?Pc(t,e,n,i,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Tc(t,e,n,u))};function Mc(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&hi(e)&&H(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return hi(e)&&ie(s)?!1:e in t}const fi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return M(e)?s=>Ns(e,s):e};function Fc(t){t.target.composing=!0}function di(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const kn=Symbol("_assign"),Ys={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[kn]=fi(r);const i=n||r.props&&r.props.type==="number";Ut(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Dn(a)),t[kn](a)}),s&&Ut(t,"change",()=>{t.value=t.value.trim()}),e||(Ut(t,"compositionstart",Fc),Ut(t,"compositionend",di),Ut(t,"change",di))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:n,number:r}},i){if(t[kn]=fi(i),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?Dn(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(s||n&&t.value.trim()===a)||(t.value=a))}},Hc=["ctrl","shift","alt","meta"],Bc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Hc.some(s=>t[`${s}Key`]&&!e.includes(s))},Sr=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Bc[e[o]];if(a&&a(r,e))return}return t(r,...i)})},qc=le({patchProp:Nc},wc);let pi;function Kc(){return pi||(pi=ec(qc))}const Vc=(...t)=>{const e=Kc().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=Gc(n);if(!r)return;const i=e._component;!H(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=s(r,!1,zc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function zc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Gc(t){return ie(t)?document.querySelector(t):t}var Wc=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Jc=Symbol();var gi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(gi||(gi={}));function Yc(){const t=Fa(!0),e=t.run(()=>Oe({}));let s=[],n=[];const r=wo({install(i){r._a=i,i.provide(Jc,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return!this._a&&!Wc?n.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}function Qc(t){return io()?(Ba(t),!0):!1}function na(t){return typeof t=="function"?t():Rt(t)}const ra=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xc=Object.prototype.toString,Zc=t=>Xc.call(t)==="[object Object]",Ks=()=>{},eu=tu();function tu(){var t,e;return ra&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function rs(t){var e;const s=na(t);return(e=s==null?void 0:s.$el)!=null?e:s}const ia=ra?window:void 0;function Rn(...t){let e,s,n,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([s,n,r]=t,e=ia):[e,s,n,r]=t,!e)return Ks;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},a=(c,f,d,g)=>(c.addEventListener(f,d,g),()=>c.removeEventListener(f,d,g)),l=ls(()=>[rs(e),na(r)],([c,f])=>{if(o(),!c)return;const d=Zc(f)?{...f}:f;i.push(...s.flatMap(g=>n.map(b=>a(c,g,b,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Qc(u),u}let _i=!1;function su(t,e,s={}){const{window:n=ia,ignore:r=[],capture:i=!0,detectIframe:o=!1}=s;if(!n)return Ks;eu&&!_i&&(_i=!0,Array.from(n.document.body.children).forEach(d=>d.addEventListener("click",Ks)),n.document.documentElement.addEventListener("click",Ks));let a=!0;const l=d=>r.some(g=>{if(typeof g=="string")return Array.from(n.document.querySelectorAll(g)).some(b=>b===d.target||d.composedPath().includes(b));{const b=rs(g);return b&&(d.target===b||d.composedPath().includes(b))}}),c=[Rn(n,"click",d=>{const g=rs(t);if(!(!g||g===d.target||d.composedPath().includes(g))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:i}),Rn(n,"pointerdown",d=>{const g=rs(t);a=!l(d)&&!!(g&&!d.composedPath().includes(g))},{passive:!0}),o&&Rn(n,"blur",d=>{setTimeout(()=>{var g;const b=rs(t);((g=n.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(b!=null&&b.contains(n.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}const nu="modulepreload",ru=function(t){return"/nfactorial-events-controller/"+t},mi={},Vt=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(s.map(a=>{if(a=ru(a),a in mi)return;mi[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":nu,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},iu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vt(()=>Promise.resolve().then(()=>xs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Or extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class ou extends Or{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class au extends Or{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lu extends Or{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yn||(Yn={}));var cu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class uu{constructor(e,{headers:s={},customFetch:n,region:r=Yn.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=iu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return cu(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(b=>{throw new ou(b)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new au(c);if(!c.ok)throw new lu(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield c.json():d==="application/octet-stream"?g=yield c.blob():d==="text/event-stream"?g=c:d==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}var hu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zt=hu();const fu=zt.fetch,kr=zt.fetch.bind(zt),oa=zt.Headers,du=zt.Request,pu=zt.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:oa,Request:du,Response:pu,default:kr,fetch:fu},Symbol.toStringTag,{value:"Module"}));class gu extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class _u{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=kr:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const A=await i.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=A:c=JSON.parse(A))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),T=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&T&&T.length>1&&(f=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,g="OK")}catch{i.status===404&&k===""?(d=204,g="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new gu(u)}return{error:u,data:c,count:f,status:d,statusText:g}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}}class mu extends _u{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Dt extends mu{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}}class vu{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Dt({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Dt({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Dt({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Dt({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const yu="1.15.2",bu={"X-Client-Info":`postgrest-js/${yu}`};class Rr{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},bu),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new vu(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rr(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Dt({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const wu="2.9.5",Eu={"X-Client-Info":`realtime-js/${wu}`},Su="1.0.0",aa=1e4,Ou=1e3;var Bt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bt||(Bt={}));var Ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ee||(Ee={}));var Ce;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ce||(Ce={}));var Qn;(function(t){t.websocket="websocket"})(Qn||(Qn={}));var Et;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Et||(Et={}));class la{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ku{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class xn{constructor(e,s,n={},r=aa){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vi||(vi={}));class fs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=fs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=fs.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const d=c.map(T=>T.presence_ref),g=f.map(T=>T.presence_ref),b=c.filter(T=>g.indexOf(T.presence_ref)<0),k=f.filter(T=>d.indexOf(T.presence_ref)<0);b.length>0&&(a[u]=b),k.length>0&&(l[u]=k)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(g=>g.presence_ref),d=c.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const yi=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ru(o,t,e,r),i),{})},Ru=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?ca(i,o):Xn(o)},ca=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Pu(e,s)}switch(t){case Z.bool:return xu(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Au(e);case Z.json:case Z.jsonb:return Tu(e);case Z.timestamp:return Cu(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Xn(e);default:return Xn(e)}},Xn=t=>t,xu=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Au=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ca(e,a))}return t},Cu=t=>typeof t=="string"?t.replace(" ","T"):t;var bi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bi||(bi={}));var wi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(wi||(wi={}));var Ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class xr{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new xn(this,Ce.join,this.params,this.timeout),this.rejoinTimer=new la(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ce.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new fs(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,d=(c=f==null?void 0:f.length)!==null&&c!==void 0?c:0,g=[];for(let b=0;b<d;b++){const k=f[b],{filter:{event:T,schema:A,table:$,filter:L}}=k,N=u&&u[b];if(N&&N.event===T&&N.schema===A&&N.table===$&&N.filter===L)g.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{apikey:(n=this.socket.apiKey)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ee.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new xn(this,Ce.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new xn(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ce;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var b,k,T;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((T=(k=g.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(g=>g.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,k,T,A,$,L;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const N=g.id,ee=(b=g.filter)===null||b===void 0?void 0:b.event;return N&&((k=s.ids)===null||k===void 0?void 0:k.includes(N))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const N=($=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return N==="*"||N===((L=s==null?void 0:s.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const b=d.data,{schema:k,table:T,commit_timestamp:A,type:$,errors:L}=b;d=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:A,eventType:$,new:{},old:{},errors:L}),this._getPayloadRecords(b))}g.callback(d,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xr.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ce.close,{},e)}_onError(e){this._on(Ce.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=yi(e.columns,e.old_record)),s}}const $u=()=>{},ju=typeof WebSocket<"u";class Iu{constructor(e,s){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Eu,this.params={},this.timeout=aa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new ku,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Vt(()=>Promise.resolve().then(()=>xs),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Qn.websocket}`,s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new la(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(ju){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Lu(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Vt(()=>import("./browser-BImCA5dO.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bt.connecting:return Et.Connecting;case Bt.open:return Et.Open;case Bt.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}channel(e,s={config:{}}){const n=new xr(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Ce.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Su}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ce.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ou,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Lu{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Ar extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Uu extends Ar{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Si extends Ar{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Du=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vt(()=>Promise.resolve().then(()=>xs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Nu=()=>Du(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vt(()=>Promise.resolve().then(()=>xs),void 0)).Response:Response});var Qt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const An=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mu=(t,e)=>Qt(void 0,void 0,void 0,function*(){const s=yield Nu();t instanceof s?t.json().then(n=>{e(new Uu(An(n),t.status||500))}).catch(n=>{e(new Si(An(n),n))}):e(new Si(An(t),t))}),Fu=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};function dn(t,e,s,n,r,i){return Qt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Fu(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mu(l,a))})})}function Zn(t,e,s,n){return Qt(this,void 0,void 0,function*(){return dn(t,"GET",e,s,n)})}function rt(t,e,s,n,r){return Qt(this,void 0,void 0,function*(){return dn(t,"POST",e,n,r,s)})}function Hu(t,e,s,n,r){return Qt(this,void 0,void 0,function*(){return dn(t,"PUT",e,n,r,s)})}function ha(t,e,s,n,r){return Qt(this,void 0,void 0,function*(){return dn(t,"DELETE",e,n,r,s)})}var Re=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Bu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qu{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=ua(r)}uploadOrUpdate(e,s,n,r){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Oi),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield c.json();return c.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Oi.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=yield rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),r=new URL(this.url+n.url),i=r.searchParams.get("token");if(!i)throw new Ar("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:i},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}update(e,s,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s){return Re(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}copy(e,s){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Re(this,void 0,void 0,function*(){try{const r=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}download(e,s){return Re(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Zn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}list(e,s,n){return Re(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Bu),s),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Ku="2.5.5",Vu={"X-Client-Info":`storage-js/${Ku}`};var jt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class zu{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Vu),s),this.fetch=ua(n)}listBuckets(){return jt(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return jt(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return jt(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}emptyBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}}class Gu extends zu{constructor(e,s={},n){super(e,s,n)}from(e){return new qu(this.url,this.headers,e,this.fetch)}}const Wu="2.43.4";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const Ju={"X-Client-Info":`supabase-js-${is}/${Wu}`},Yu={headers:Ju},Qu={schema:"public"},Xu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zu={};var eh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const th=t=>{let e;return t?e=t:typeof fetch>"u"?e=kr:e=fetch,(...s)=>e(...s)},sh=()=>typeof Headers>"u"?oa:Headers,nh=(t,e,s)=>{const n=th(s),r=sh();return(i,o)=>eh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function rh(t){return t.replace(/\/$/,"")}function ih(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i)}}const fa="2.64.2",oh="http://localhost:9999",ah="supabase.auth.token",lh={"X-Client-Info":`gotrue-js/${fa}`},ki=10,er="X-Supabase-Api-Version",da={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ch(t){return Math.round(Date.now()/1e3)+t}function uh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pe=()=>typeof document<"u",vt={tested:!1,writable:!1},ds=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function Tn(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const pa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vt(()=>Promise.resolve().then(()=>xs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},hh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ga=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Pn=async(t,e)=>{await t.removeItem(e)};function fh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class pn{constructor(){this.promise=new pn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}pn.promiseConstructor=Promise;function Ri(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(fh(n))}async function dh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ph(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function gh(t){return("0"+t.toString(16)).substr(-2)}function _h(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,gh).join("")}async function mh(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function vh(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await mh(t);return vh(s)}async function It(t,e,s=!1){const n=_h();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await ga(t,`${e}-code-verifier`,r);const i=await yh(n);return[i,n===i?"plain":"s256"]}const bh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wh(t){const e=t.headers.get(er);if(!e||!e.match(bh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Tr extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Eh extends Tr{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Sh(t){return q(t)&&t.name==="AuthApiError"}class _a extends Tr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class At extends Tr{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class yt extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Cn extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ds extends At{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xi extends At{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tr extends At{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function $n(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Ai extends At{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var Oh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kh=[502,503,504];async function Ti(t){var e;if(!hh(t))throw new tr(bt(t),0);if(kh.includes(t.status))throw new tr(bt(t),t.status);let s;try{s=await t.json()}catch(i){throw new _a(bt(i),i)}let n;const r=wh(t);if(r&&r.getTime()>=da["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Ai(bt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ai(bt(s),t.status,s.weak_password.reasons);throw new Eh(bt(s),t.status||500,n)}const Rh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function V(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[er]||(i[er]=da["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await xh(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function xh(t,e,s,n,r,i){const o=Rh(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new tr(bt(l),0)}if(a.ok||await Ti(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ti(l)}}function et(t){var e;let s=null;Ch(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=ch(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Pi(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ah(t){return{data:t,error:null}}function Th(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=Oh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ph(t){return t}function Ch(t){return t.access_token&&t.refresh_token&&t.expires_in}var $h=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class jh{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=pa(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ot})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=$h(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Th,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ot})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ph});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(b.split(";")[1].split("=")[1]);u[`${T}Page`]=k}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ot})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ot})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ot})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const Ih={getItem:t=>ds()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ds()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ds()&&globalThis.localStorage.removeItem(t)}};function Ci(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Lh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lt={debug:!!(globalThis&&ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ma extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uh extends ma{}async function Dh(t,e,s){Lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Lt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Uh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Lh();const Nh={url:oh,storageKey:ah,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ts=30*1e3,$i=3;async function ji(t,e,s){return await s()}class Ss{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Nh),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new jh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=pa(r.fetch),this.lock=r.lock||ji,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Pe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Dh:this.lock=ji,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ds()?this.storage=Ih:(this.memoryStorage={},this.storage=Ci(this.memoryStorage)):(this.memoryStorage={},this.storage=Ci(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Pe()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:r,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return q(e)?{error:e}:{error:new _a("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{await this._removeSession();const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{await this._removeSession();let i;if("email"in e){const{email:c,password:f,options:d}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await It(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:b},xform:et})}else if("phone"in e){const{phone:c,password:f,options:d}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:et})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pi})}else throw new Us("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ls(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/"),{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:et});return await Pn(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await It(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Us("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await It(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ah})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new yt;const{error:r}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await V(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await V(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Us("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){const o=this.suppressGetSessionWarning;e=new Proxy(e,{get(l,u,c){return!o&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(l,u,c)}})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ot}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ot})})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new yt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await It(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ot});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Ri(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=Ri(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yt;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Pe())throw new Ds("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ds("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new xi("Not a valid PKCE flow url.");const s=Tn(window.location.href);if(e){if(!s.code)throw new xi("No code detected.");const{data:$,error:L}=await this._exchangeCodeForSession(s.code);if(L)throw L;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:$.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Ds(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new Ds("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let d=c+f;l&&(d=parseInt(l));const g=d-c;g*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=d-f;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,d,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",b,d,c);const{data:k,error:T}=await this._getUser(i);if(T)throw T;const A={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:s.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Tn(window.location.href);return!!(Pe()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Tn(window.location.href),s=await Ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=uh(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await It(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Pe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await ph(async r=>(r>0&&await dh(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(r,i)=>{const o=200*Math.pow(2,r);return i&&$n(i)&&Date.now()+o-n<ts})}catch(n){if(this._debug(s,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Pe()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Ls(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<r+ki;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ki}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),$n(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new pn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),q(i)){const o={session:null,error:i};return $n(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ga(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pn(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ts}ms, refresh threshold is ${$i} ticks`),r<=$i&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ma)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await It(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((r=a==null?void 0:a.totp)===null||r===void 0)&&r.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ss.nextInstanceID=0;const Mh=Ss;class Fh extends Mh{constructor(e){super(e)}}var Hh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Bh{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=rh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Qu,realtime:Zu,auth:Object.assign(Object.assign({},Xu),{storageKey:l}),global:Yu},c=ih(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=nh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Rr(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new uu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Hh(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,debug:a},l,u){var c;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fh({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(e){return new Iu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qh=(t,e,s)=>new Bh(t,e,s),Kh="https://uvrqedkdkqmgzhlzjadv.supabase.co",Vh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2cnFlZGtka3FtZ3pobHpqYWR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY0NDE2OTIsImV4cCI6MjAzMjAxNzY5Mn0.bElwO2_xT4vGylxBT-LpD7Mj_V3vUI77TIUGqj3x5wA",ht=qh(Kh,Vh),zh={class:"navbar",role:"navigation","aria-label":"main navigation"},Gh={class:"container is-max-dekstop px-2"},Wh={class:"navbar-brand"},Jh=D("h1",{class:"navbar-item croogla is-size-4 gradient"},[D("a",{class:"navbar-item",href:""},"Almaty Events")],-1),Yh=D("span",{"aria-hidden":"true"},null,-1),Qh=D("span",{"aria-hidden":"true"},null,-1),Xh=D("span",{"aria-hidden":"true"},null,-1),Zh=D("span",{"aria-hidden":"true"},null,-1),ef=[Yh,Qh,Xh,Zh],tf={class:"navbar-end"},sf={class:"navbar-item"},nf={class:"buttons"},rf=D("strong",null,"Профиль",-1),of={__name:"Navbar",setup(t){const e=Oe(!1),s=Oe(null),n=Oe(null);return su(n,()=>{e.value=!1},{ignore:[s]}),(r,i)=>{const o=an("RouterLink");return Ae(),ut("nav",zh,[D("div",Gh,[D("div",Wh,[Jh,D("a",{onClick:i[0]||(i[0]=Sr(a=>e.value=!e.value,["prevent"])),role:"button",class:_s([{"is-active":e.value},"navbar-burger"]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",ref_key:"navbarBurgerRef",ref:s},ef,2)]),D("div",{id:"navbarBasicExample",class:_s(["navbar-menu",{"is-active":e.value}]),ref_key:"navbarMenuRef",ref:n},[D("div",tf,[D("div",sf,[D("div",nf,[ce(o,{onClick:i[1]||(i[1]=a=>e.value=!1),class:"navbar-item",to:"/profile","active-class":"is-active"},{default:on(()=>[rf]),_:1})])])])],2)])])}}},af={class:"container is-max-dekstop px-2 py-2"},lf={__name:"App",setup(t){const e=Oe();return yr(()=>{ht.auth.getSession().then(({data:s})=>{e.value=s.session}),ht.auth.onAuthStateChange((s,n)=>{e.value=n})}),(s,n)=>{const r=an("RouterView");return Ae(),ut($e,null,[ce(of),D("div",af,[ce(r)])],64)}}};/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Nt=typeof document<"u";function cf(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Y=Object.assign;function jn(t,e){const s={};for(const n in e){const r=e[n];s[n]=Ue(r)?r.map(t):t(r)}return s}const ps=()=>{},Ue=Array.isArray,va=/#/g,uf=/&/g,hf=/\//g,ff=/=/g,df=/\?/g,ya=/\+/g,pf=/%5B/g,gf=/%5D/g,ba=/%5E/g,_f=/%60/g,wa=/%7B/g,mf=/%7C/g,Ea=/%7D/g,vf=/%20/g;function Pr(t){return encodeURI(""+t).replace(mf,"|").replace(pf,"[").replace(gf,"]")}function yf(t){return Pr(t).replace(wa,"{").replace(Ea,"}").replace(ba,"^")}function sr(t){return Pr(t).replace(ya,"%2B").replace(vf,"+").replace(va,"%23").replace(uf,"%26").replace(_f,"`").replace(wa,"{").replace(Ea,"}").replace(ba,"^")}function bf(t){return sr(t).replace(ff,"%3D")}function wf(t){return Pr(t).replace(va,"%23").replace(df,"%3F")}function Ef(t){return t==null?"":wf(t).replace(hf,"%2F")}function Os(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Sf=/\/$/,Of=t=>t.replace(Sf,"");function In(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Af(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Os(o)}}function kf(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ii(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Rf(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Gt(e.matched[n],s.matched[r])&&Sa(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Gt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Sa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!xf(t[s],e[s]))return!1;return!0}function xf(t,e){return Ue(t)?Li(t,e):Ue(e)?Li(e,t):t===e}function Li(t,e){return Ue(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Af(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}var ks;(function(t){t.pop="pop",t.push="push"})(ks||(ks={}));var gs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gs||(gs={}));function Tf(t){if(!t)if(Nt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Of(t)}const Pf=/^[^#]+#/;function Cf(t,e){return t.replace(Pf,"#")+e}function $f(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const gn=()=>({left:window.scrollX,top:window.scrollY});function jf(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=$f(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ui(t,e){return(history.state?history.state.position-e:-1)+t}const nr=new Map;function If(t,e){nr.set(t,e)}function Lf(t){const e=nr.get(t);return nr.delete(t),e}let Uf=()=>location.protocol+"//"+location.host;function Oa(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ii(l,"")}return Ii(s,t)+n+r}function Df(t,e,s,n){let r=[],i=[],o=null;const a=({state:d})=>{const g=Oa(t,location),b=s.value,k=e.value;let T=0;if(d){if(s.value=g,e.value=d,o&&o===b){o=null;return}T=k?d.position-k.position:0}else n(g);r.forEach(A=>{A(s.value,b,{delta:T,type:ks.pop,direction:T?T>0?gs.forward:gs.back:gs.unknown})})};function l(){o=s.value}function u(d){r.push(d);const g=()=>{const b=r.indexOf(d);b>-1&&r.splice(b,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(Y({},d.state,{scroll:gn()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Di(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?gn():null}}function Nf(t){const{history:e,location:s}=window,n={value:Oa(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),d=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+l:Uf()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),r.value=u}catch(g){console.error(g),s[c?"replace":"assign"](d)}}function o(l,u){const c=Y({},e.state,Di(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=Y({},r.value,e.state,{forward:l,scroll:gn()});i(c.current,c,!0);const f=Y({},Di(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Mf(t){t=Tf(t);const e=Nf(t),s=Df(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=Y({location:"",base:t,go:n,createHref:Cf.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Ff(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Mf(t)}function Hf(t){return typeof t=="string"||t&&typeof t=="object"}function ka(t){return typeof t=="string"||typeof t=="symbol"}const Ze={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ra=Symbol("");var Ni;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ni||(Ni={}));function Wt(t,e){return Y(new Error,{type:t,[Ra]:!0},e)}function ze(t,e){return t instanceof Error&&Ra in t&&(e==null||!!(t.type&e))}const Mi="[^/]+?",Bf={sensitive:!1,strict:!1,start:!0,end:!0},qf=/[.+*?^${}()[\]/\\]/g;function Kf(t,e){const s=Y({},Bf,e),n=[];let r=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const d=u[f];let g=40+(s.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(qf,"\\$&"),g+=40;else if(d.type===1){const{value:b,repeatable:k,optional:T,regexp:A}=d;i.push({name:b,repeatable:k,optional:T});const $=A||Mi;if($!==Mi){g+=10;try{new RegExp(`(${$})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${b}" (${$}): `+N.message)}}let L=k?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;f||(L=T&&u.length<2?`(?:/${L})`:"/"+L),T&&(L+="?"),r+=L,g+=20,T&&(g+=-8),k&&(g+=-20),$===".*"&&(g+=-50)}c.push(g)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",b=i[d-1];f[b.name]=g&&b.repeatable?g.split("/"):g}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:b,repeatable:k,optional:T}=g,A=b in u?u[b]:"";if(Ue(A)&&!k)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const $=Ue(A)?A.join("/"):A;if(!$)if(T)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);c+=$}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Vf(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zf(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=Vf(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Fi(n))return 1;if(Fi(r))return-1}return r.length-n.length}function Fi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Gf={type:0,value:""},Wf=/[a-zA-Z0-9_]/;function Jf(t){if(!t)return[[]];if(t==="/")return[[Gf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),s=1):d();break;case 4:d(),s=n;break;case 1:l==="("?s=2:Wf.test(l)?d():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function Yf(t,e,s){const n=Kf(Jf(t.path),s),r=Y(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Qf(t,e){const s=[],n=new Map;e=qi({strict:!1,end:!0,sensitive:!1},e);function r(c){return n.get(c)}function i(c,f,d){const g=!d,b=Xf(c);b.aliasOf=d&&d.record;const k=qi(e,c),T=[b];if("alias"in c){const L=typeof c.alias=="string"?[c.alias]:c.alias;for(const N of L)T.push(Y({},b,{components:d?d.record.components:b.components,path:N,aliasOf:d?d.record:b}))}let A,$;for(const L of T){const{path:N}=L;if(f&&N[0]!=="/"){const ee=f.record.path,B=ee[ee.length-1]==="/"?"":"/";L.path=f.record.path+(N&&B+N)}if(A=Yf(L,f,k),d?d.alias.push(A):($=$||A,$!==A&&$.alias.push(A),g&&c.name&&!Bi(A)&&o(c.name)),b.children){const ee=b.children;for(let B=0;B<ee.length;B++)i(ee[B],A,d&&d.children[B])}d=d||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return $?()=>{o($)}:ps}function o(c){if(ka(c)){const f=n.get(c);f&&(n.delete(c),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(c);f>-1&&(s.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return s}function l(c){let f=0;for(;f<s.length&&zf(c,s[f])>=0&&(c.record.path!==s[f].record.path||!xa(c,s[f]));)f++;s.splice(f,0,c),c.record.name&&!Bi(c)&&n.set(c.record.name,c)}function u(c,f){let d,g={},b,k;if("name"in c&&c.name){if(d=n.get(c.name),!d)throw Wt(1,{location:c});k=d.record.name,g=Y(Hi(f.params,d.keys.filter($=>!$.optional).concat(d.parent?d.parent.keys.filter($=>$.optional):[]).map($=>$.name)),c.params&&Hi(c.params,d.keys.map($=>$.name))),b=d.stringify(g)}else if(c.path!=null)b=c.path,d=s.find($=>$.re.test(b)),d&&(g=d.parse(b),k=d.record.name);else{if(d=f.name?n.get(f.name):s.find($=>$.re.test(f.path)),!d)throw Wt(1,{location:c,currentLocation:f});k=d.record.name,g=Y({},f.params,c.params),b=d.stringify(g)}const T=[];let A=d;for(;A;)T.unshift(A.record),A=A.parent;return{name:k,path:b,params:g,matched:T,meta:ed(T)}}return t.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Hi(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Xf(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Zf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Zf(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Bi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ed(t){return t.reduce((e,s)=>Y(e,s.meta),{})}function qi(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function xa(t,e){return e.children.some(s=>s===t||xa(t,s))}function td(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(ya," "),o=i.indexOf("="),a=Os(o<0?i:i.slice(0,o)),l=o<0?null:Os(i.slice(o+1));if(a in e){let u=e[a];Ue(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Ki(t){let e="";for(let s in t){const n=t[s];if(s=bf(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ue(n)?n.map(i=>i&&sr(i)):[n&&sr(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function sd(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Ue(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const nd=Symbol(""),Vi=Symbol(""),Cr=Symbol(""),Aa=Symbol(""),rr=Symbol("");function ss(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function it(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Wt(4,{from:s,to:e})):d instanceof Error?l(d):Hf(d)?l(Wt(2,{from:e,to:d})):(o&&n.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(n&&n.instances[r],e,s,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function Ln(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(rd(l)){const c=(l.__vccOpts||l)[e];c&&i.push(it(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=cf(c)?c.default:c;o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&it(g,s,n,o,a,r)()}))}}return i}function rd(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zi(t){const e=We(Cr),s=We(Aa),n=je(()=>{const l=Rt(t.to);return e.resolve(l)}),r=je(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=s.matched;if(!c||!f.length)return-1;const d=f.findIndex(Gt.bind(null,c));if(d>-1)return d;const g=Gi(l[u-2]);return u>1&&Gi(c)===g&&f[f.length-1].path!==g?f.findIndex(Gt.bind(null,l[u-2])):d}),i=je(()=>r.value>-1&&ld(s.params,n.value.params)),o=je(()=>r.value>-1&&r.value===s.matched.length-1&&Sa(s.params,n.value.params));function a(l={}){return ad(l)?e[Rt(t.replace)?"replace":"push"](Rt(t.to)).catch(ps):Promise.resolve()}return{route:n,href:je(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const id=Uo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zi,setup(t,{slots:e}){const s=sn(zi(t)),{options:n}=We(Cr),r=je(()=>({[Wi(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Wi(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:sa("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),od=id;function ad(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ld(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Ue(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Gi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wi=(t,e,s)=>t??e??s,cd=Uo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=We(rr),r=je(()=>t.route||n.value),i=We(Vi,0),o=je(()=>{let u=Rt(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=je(()=>r.value.matched[o.value]);Hs(Vi,je(()=>o.value+1)),Hs(nd,a),Hs(rr,r);const l=Oe();return ls(()=>[l.value,a.value,t.name],([u,c,f],[d,g,b])=>{c&&(c.instances[f]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Gt(c,g)||!d)&&(c.enterCallbacks[f]||[]).forEach(k=>k(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,f=a.value,d=f&&f.components[c];if(!d)return Ji(s.default,{Component:d,route:u});const g=f.props[c],b=g?g===!0?u.params:typeof g=="function"?g(u):g:null,T=sa(d,Y({},b,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Ji(s.default,{Component:T,route:u})||T}}});function Ji(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const ud=cd;function hd(t){const e=Qf(t.routes,t),s=t.parseQuery||td,n=t.stringifyQuery||Ki,r=t.history,i=ss(),o=ss(),a=ss(),l=cl(Ze);let u=Ze;Nt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jn.bind(null,v=>""+v),f=jn.bind(null,Ef),d=jn.bind(null,Os);function g(v,P){let R,j;return ka(v)?(R=e.getRecordMatcher(v),j=P):j=v,e.addRoute(j,R)}function b(v){const P=e.getRecordMatcher(v);P&&e.removeRoute(P)}function k(){return e.getRoutes().map(v=>v.record)}function T(v){return!!e.getRecordMatcher(v)}function A(v,P){if(P=Y({},P||l.value),typeof v=="string"){const p=In(s,v,P.path),_=e.resolve({path:p.path},P),y=r.createHref(p.fullPath);return Y(p,_,{params:d(_.params),hash:Os(p.hash),redirectedFrom:void 0,href:y})}let R;if(v.path!=null)R=Y({},v,{path:In(s,v.path,P.path).path});else{const p=Y({},v.params);for(const _ in p)p[_]==null&&delete p[_];R=Y({},v,{params:f(p)}),P.params=f(P.params)}const j=e.resolve(R,P),J=v.hash||"";j.params=c(d(j.params));const re=kf(n,Y({},v,{hash:yf(J),path:j.path})),h=r.createHref(re);return Y({fullPath:re,hash:J,query:n===Ki?sd(v.query):v.query||{}},j,{redirectedFrom:void 0,href:h})}function $(v){return typeof v=="string"?In(s,v,l.value.path):Y({},v)}function L(v,P){if(u!==v)return Wt(8,{from:P,to:v})}function N(v){return pe(v)}function ee(v){return N(Y($(v),{replace:!0}))}function B(v){const P=v.matched[v.matched.length-1];if(P&&P.redirect){const{redirect:R}=P;let j=typeof R=="function"?R(v):R;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=$(j):{path:j},j.params={}),Y({query:v.query,hash:v.hash,params:j.path!=null?{}:v.params},j)}}function pe(v,P){const R=u=A(v),j=l.value,J=v.state,re=v.force,h=v.replace===!0,p=B(R);if(p)return pe(Y($(p),{state:typeof p=="object"?Y({},J,p.state):J,force:re,replace:h}),P||R);const _=R;_.redirectedFrom=P;let y;return!re&&Rf(n,j,R)&&(y=Wt(16,{to:_,from:j}),Me(j,j,!0,!1)),(y?Promise.resolve(y):De(_,j)).catch(m=>ze(m)?ze(m,2)?m:Qe(m):G(m,_,j)).then(m=>{if(m){if(ze(m,2))return pe(Y({replace:h},$(m.to),{state:typeof m.to=="object"?Y({},J,m.to.state):J,force:re}),P||_)}else m=gt(_,j,!0,h,J);return Ye(_,j,m),m})}function ke(v,P){const R=L(v,P);return R?Promise.reject(R):Promise.resolve()}function pt(v){const P=Ct.values().next().value;return P&&typeof P.runWithContext=="function"?P.runWithContext(v):v()}function De(v,P){let R;const[j,J,re]=fd(v,P);R=Ln(j.reverse(),"beforeRouteLeave",v,P);for(const p of j)p.leaveGuards.forEach(_=>{R.push(it(_,v,P))});const h=ke.bind(null,v,P);return R.push(h),ue(R).then(()=>{R=[];for(const p of i.list())R.push(it(p,v,P));return R.push(h),ue(R)}).then(()=>{R=Ln(J,"beforeRouteUpdate",v,P);for(const p of J)p.updateGuards.forEach(_=>{R.push(it(_,v,P))});return R.push(h),ue(R)}).then(()=>{R=[];for(const p of re)if(p.beforeEnter)if(Ue(p.beforeEnter))for(const _ of p.beforeEnter)R.push(it(_,v,P));else R.push(it(p.beforeEnter,v,P));return R.push(h),ue(R)}).then(()=>(v.matched.forEach(p=>p.enterCallbacks={}),R=Ln(re,"beforeRouteEnter",v,P,pt),R.push(h),ue(R))).then(()=>{R=[];for(const p of o.list())R.push(it(p,v,P));return R.push(h),ue(R)}).catch(p=>ze(p,8)?p:Promise.reject(p))}function Ye(v,P,R){a.list().forEach(j=>pt(()=>j(v,P,R)))}function gt(v,P,R,j,J){const re=L(v,P);if(re)return re;const h=P===Ze,p=Nt?history.state:{};R&&(j||h?r.replace(v.fullPath,Y({scroll:h&&p&&p.scroll},J)):r.push(v.fullPath,J)),l.value=v,Me(v,P,R,h),Qe()}let Ne;function Xt(){Ne||(Ne=r.listen((v,P,R)=>{if(!As.listening)return;const j=A(v),J=B(j);if(J){pe(Y(J,{replace:!0}),j).catch(ps);return}u=j;const re=l.value;Nt&&If(Ui(re.fullPath,R.delta),gn()),De(j,re).catch(h=>ze(h,12)?h:ze(h,2)?(pe(h.to,j).then(p=>{ze(p,20)&&!R.delta&&R.type===ks.pop&&r.go(-1,!1)}).catch(ps),Promise.reject()):(R.delta&&r.go(-R.delta,!1),G(h,j,re))).then(h=>{h=h||gt(j,re,!1),h&&(R.delta&&!ze(h,8)?r.go(-R.delta,!1):R.type===ks.pop&&ze(h,20)&&r.go(-1,!1)),Ye(j,re,h)}).catch(ps)}))}let Tt=ss(),oe=ss(),Q;function G(v,P,R){Qe(v);const j=oe.list();return j.length?j.forEach(J=>J(v,P,R)):console.error(v),Promise.reject(v)}function Ve(){return Q&&l.value!==Ze?Promise.resolve():new Promise((v,P)=>{Tt.add([v,P])})}function Qe(v){return Q||(Q=!v,Xt(),Tt.list().forEach(([P,R])=>v?R(v):P()),Tt.reset()),v}function Me(v,P,R,j){const{scrollBehavior:J}=t;if(!Nt||!J)return Promise.resolve();const re=!R&&Lf(Ui(v.fullPath,0))||(j||!R)&&history.state&&history.state.scroll||null;return xo().then(()=>J(v,P,re)).then(h=>h&&jf(h)).catch(h=>G(h,v,P))}const _e=v=>r.go(v);let Pt;const Ct=new Set,As={currentRoute:l,listening:!0,addRoute:g,removeRoute:b,hasRoute:T,getRoutes:k,resolve:A,options:t,push:N,replace:ee,go:_e,back:()=>_e(-1),forward:()=>_e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:Ve,install(v){const P=this;v.component("RouterLink",od),v.component("RouterView",ud),v.config.globalProperties.$router=P,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Rt(l)}),Nt&&!Pt&&l.value===Ze&&(Pt=!0,N(r.location).catch(J=>{}));const R={};for(const J in Ze)Object.defineProperty(R,J,{get:()=>l.value[J],enumerable:!0});v.provide(Cr,P),v.provide(Aa,vo(R)),v.provide(rr,l);const j=v.unmount;Ct.add(v),v.unmount=function(){Ct.delete(v),Ct.size<1&&(u=Ze,Ne&&Ne(),Ne=null,l.value=Ze,Pt=!1,Q=!1),j()}}};function ue(v){return v.reduce((P,R)=>P.then(()=>pt(R)),Promise.resolve())}return As}function fd(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Gt(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Gt(u,l))||r.push(l))}return[s,n,r]}const dd={class:"card"},pd=D("div",{class:"card-image"},[D("img",{class:"box-image",src:"https://bulma.io/assets/images/placeholders/1280x960.png",alt:"Placeholder image"})],-1),gd={class:"card-content"},_d={class:"media"},md=D("div",{class:"media-left"},null,-1),vd={class:"media-content"},yd={class:"title is-4"},bd={class:"content",style:{display:"flex"}},wd={__name:"EventCard",props:{title:{type:String,required:!0},date:{type:String,required:!0},seatsAvailable:{type:Number,required:!0},seats:{type:Number,required:!0},place:{type:String,required:!0}},setup(t){const e=t;function s(n){const r=new Date(n),i=r.toLocaleDateString(void 0,{month:"long"});return`${r.getUTCDate()} ${i}`}return(n,r)=>(Ae(),ut("div",dd,[pd,D("div",gd,[D("div",_d,[md,D("div",vd,[D("p",yd,mn(e.title),1)])]),D("div",bd,[D("p",null,[Kt(mn(e.seats!=e.seatsAvailable?"Еще есть места":"Мест нету")+", ",1),D("time",null,mn(s(e.date)),1)])])])]))}},Ed={class:"columns is-multiline"},Sd={__name:"EventViewer",setup(t){const e=Oe([]);async function s(){const{data:n}=await ht.from("events").select();e.value=n}return console.log(e),yr(()=>{s()}),(n,r)=>(Ae(),ut("div",Ed,[(Ae(!0),ut($e,null,Fl(e.value,i=>(Ae(),un(wd,{class:"is-one-quarter column",key:i.id,title:i.name,date:i.event_datetime,seats:i.all_seats,seatsAvailable:i.seats_available,place:i.place},null,8,["title","date","seats","seatsAvailable","place"]))),128))]))}},Od={__name:"MainPage",setup(t){return(e,s)=>(Ae(),un(Sd))}},kd=D("h1",{style:{"font-size":"30pt"},class:"mb-3"},"Регистрация",-1),Rd={class:"field"},xd={class:"control has-icons-left has-icons-right"},Ad={class:"field"},Td={class:"control has-icons-left"},Pd={class:"field mt-5"},Cd={class:"control"},$d=["value","disabled"],jd={class:"field"},Id={__name:"SignUp",setup(t){const e=Oe(!1),s=Oe(""),n=Oe(""),r=async()=>{var i,o;try{e.value=!0;const{data:a,error:l}=await ht.auth.signUp({email:s.value,password:n.value,options:{emailRedirectTo:"http://localhost:5173/"}});if(l)setErrorMsg(l.message);else if(((o=(i=a.user)==null?void 0:i.identities)==null?void 0:o.length)===0){const{data:u,error:c}=await ht.auth.signInWithPassword({email:s.value,password:n.value});if(c)throw c;Jt.push("/")}else alert("Проверьте почту"),Jt.push("/signin")}catch(a){a instanceof Error&&alert(a.message)}finally{e.value=!1}};return(i,o)=>{const a=an("RouterLink");return Ae(),ut("form",{class:"row flex-center flex form card",style:{margin:"0 auto"},onSubmit:Sr(r,["prevent"])},[kd,D("div",Rd,[D("p",xd,[Gs(D("input",{class:"input",required:"",type:"email",placeholder:"Почта","onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l)},null,512),[[Ys,s.value]])])]),D("div",Ad,[D("p",Td,[Gs(D("input",{class:"input",type:"password",placeholder:"Пароль","onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l)},null,512),[[Ys,n.value]])])]),D("div",Pd,[D("p",Cd,[D("input",{type:"submit",class:"button is-success",style:{width:"100%"},value:e.value?"Загрузка":"Зарегистрироваться",disabled:e.value},null,8,$d)])]),D("div",jd,[D("p",null,[Kt("Есть аккаунт? "),ce(a,{to:"/signin"},{default:on(()=>[Kt("Войти")]),_:1})])])],32)}}},Ld={__name:"SignUpPage",setup(t){return(e,s)=>(Ae(),un(Id))}},Ud=D("h1",{style:{"font-size":"30pt"},class:"mb-3"},"Вход",-1),Dd={class:"field"},Nd={class:"control has-icons-left has-icons-right"},Md={class:"field"},Fd={class:"control has-icons-left"},Hd={class:"field mt-5"},Bd={class:"control"},qd=["value","disabled"],Kd={class:"field"},Vd={__name:"SignIn",setup(t){const e=Oe(!1),s=Oe(""),n=Oe(""),r=async()=>{try{e.value=!0;const{data:i,error:o}=await ht.auth.signInWithPassword({email:s.value,password:n.value});if(o)throw o;Jt.push("/")}catch(i){i instanceof Error&&alert(i.message)}finally{e.value=!1}};return(i,o)=>{const a=an("RouterLink");return Ae(),ut("form",{class:"row flex-center flex form card",style:{margin:"0 auto"},onSubmit:Sr(r,["prevent"])},[Ud,D("div",Dd,[D("p",Nd,[Gs(D("input",{class:"input",required:"",type:"email",placeholder:"Почта","onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l)},null,512),[[Ys,s.value]])])]),D("div",Md,[D("p",Fd,[Gs(D("input",{class:"input",type:"password",placeholder:"Пароль","onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l)},null,512),[[Ys,n.value]])])]),D("div",Hd,[D("p",Bd,[D("input",{type:"submit",class:"button is-success",style:{width:"100%"},value:e.value?"Загрузка":"Войти",disabled:e.value},null,8,qd)])]),D("div",Kd,[D("p",null,[Kt(" Нету аккаунта? "),ce(a,{to:"/signup"},{default:on(()=>[Kt("Зарегистрироваться")]),_:1})])])],32)}}},zd={__name:"SignInPage",setup(t){return(e,s)=>(Ae(),un(Vd))}},Gd={__name:"ProfilePage",setup(t){const e=async()=>{await ht.auth.signOut(),Jt.push("/")};return(s,n)=>(Ae(),ut("button",{class:"button is-success",onClick:e},"Выйти"))}};let Un;const Wd=[{path:"/",name:"home",component:Od},{path:"/signup",name:"signup",component:Ld},{path:"/signin",name:"signin",component:zd},{path:"/profile",name:"profile",component:Gd,meta:{requiresAuth:!0}}],Jt=hd({history:Ff(),routes:Wd});async function Jd(t){Un=await ht.auth.getSession(),console.log(Un.data.session),Un.data.session==null?t("/signup"):t()}Jt.beforeEach((t,e,s)=>{t.meta.requiresAuth?Jd(s):s()});Vc(lf).use(Yc()).use(Jt).mount("#app");
